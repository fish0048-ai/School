(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{3867:(e,t,s)=>{Promise.resolve().then(s.bind(s,8101))},4269:(e,t,s)=>{"use strict";function a(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return String(e||"").replace(/[&<>"']/g,e=>{var s;return null!=(s=t[e])?s:e})}s.d(t,{ZD:()=>a})},4585:(e,t,s)=>{"use strict";s.d(t,{db:()=>d,j:()=>i});var a=s(2078),l=s(2553),r=s(9390);let c=(0,a.Wp)({apiKey:"AIzaSyDD_LVP9WTmEJP1ug68ajrFqQufu65X_BA",authDomain:"cish-906-school.firebaseapp.com",projectId:"cish-906-school",storageBucket:"cish-906-school.firebasestorage.app",messagingSenderId:"795413031258",appId:"1:795413031258:web:13c9916b84c07cd4dbeb63"}),i=(0,l.xI)(c),d=(0,r.aU)(c)},8101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),l=s(2115),r=s(9390),c=s(4585),i=s(4269);function d(){let[e,t]=(0,l.useState)([]),[s,d]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(0,r.GG)((0,r.P)((0,r.rJ)(c.db,"stories"),(0,r.My)("title","asc"))).then(e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}).catch(console.error).finally(()=>d(!1))},[]),s)?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("i",{className:"fas fa-circle-notch fa-spin text-4xl text-teal-500"})}):(0,a.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-2xl shadow-sm border-t-4 border-teal-500",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:[(0,a.jsx)("i",{className:"fas fa-book-open text-teal-500 mr-2"})," 親師生共讀"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:0===e.length?(0,a.jsx)("p",{className:"col-span-full text-center text-slate-500",children:"尚無文章"}):e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border-l-4 border-teal-500 hover:shadow-lg transition",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-teal-600",children:e.cat}),(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-800 mt-2",children:(0,i.ZD)(e.title)}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:(0,i.ZD)(e.oneLiner||e.content)})]},e.id))})]})}}},e=>{e.O(0,[399,563,320,441,255,358],()=>e(e.s=3867)),_N_E=e.O()}]);