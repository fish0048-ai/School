(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{90:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(5155),l=t(2115),r=t(9390),c=t(4585),d=t(4269);function i(){let[e,s]=(0,l.useState)([]),[t,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(0,r.GG)((0,r.P)((0,r.rJ)(c.db,"homework"),(0,r.My)("item","asc"))).then(e=>{s(e.docs.map(e=>({id:e.id,...e.data()})))}).catch(console.error).finally(()=>i(!1))},[]);let n=e.filter(e=>{var s;return(null!=(s=e.missing_count)?s:0)>0});return t?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("i",{className:"fas fa-circle-notch fa-spin text-4xl text-red-500"})}):(0,a.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-2xl shadow-sm border-t-4 border-red-500",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:[(0,a.jsx)("i",{className:"fas fa-clipboard-list text-red-500 mr-2"})," 作業繳交"]}),(0,a.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg mb-4 text-red-800 text-sm flex items-start",children:[(0,a.jsx)("i",{className:"fas fa-info-circle mt-0.5 mr-2 flex-shrink-0"}),(0,a.jsx)("p",{children:"請家長協助督促孩子完成作業，培養責任感。"})]}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,a.jsxs)("table",{className:"min-w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-slate-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-slate-500",children:"項目"}),(0,a.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-slate-500",children:"狀態"}),(0,a.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-slate-500",children:"人數"}),(0,a.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-slate-500 min-w-[150px]",children:"未交座號"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:0===n.length?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:4,className:"p-8 text-center text-green-600 font-bold text-lg",children:[(0,a.jsx)("i",{className:"fas fa-check-circle mr-2"}),"太棒了！全班無缺交！"]})}):n.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-red-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 font-medium text-slate-800",children:(0,d.ZD)(e.item)}),(0,a.jsx)("td",{className:"px-6 py-4 font-bold ".concat(String(e.status).includes("已")?"text-green-600":"text-orange-500"),children:(0,d.ZD)(e.status)}),(0,a.jsxs)("td",{className:"px-6 py-4 text-red-600 font-bold",children:[e.missing_count," 人"]}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-600 text-xs break-all",children:(0,d.ZD)(e.missing_seats)})]},e.id))})]})})]})}},2158:(e,s,t)=>{Promise.resolve().then(t.bind(t,90))},4269:(e,s,t)=>{"use strict";function a(e){let s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return String(e||"").replace(/[&<>"']/g,e=>{var t;return null!=(t=s[e])?t:e})}t.d(s,{ZD:()=>a})},4585:(e,s,t)=>{"use strict";t.d(s,{db:()=>i,j:()=>d});var a=t(2078),l=t(2553),r=t(9390);let c=(0,a.Wp)({apiKey:"AIzaSyDD_LVP9WTmEJP1ug68ajrFqQufu65X_BA",authDomain:"cish-906-school.firebaseapp.com",projectId:"cish-906-school",storageBucket:"cish-906-school.firebasestorage.app",messagingSenderId:"795413031258",appId:"1:795413031258:web:13c9916b84c07cd4dbeb63"}),d=(0,l.xI)(c),i=(0,r.aU)(c)}},e=>{e.O(0,[399,563,320,441,255,358],()=>e(e.s=2158)),_N_E=e.O()}]);