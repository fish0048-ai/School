(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{4433:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(5155),l=s(2115),r=s(9390),d=s(4585);let c=["1","2","3","4","午餐","午休","5","6","7","8"],n=["mon","tue","wed","thu","fri"],o=["週一","週二","週三","週四","週五"];function i(){let[e,t]=(0,l.useState)("class"),[s,i]=(0,l.useState)([]),[x,b]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(0,r.GG)((0,r.P)((0,r.rJ)(d.db,"class"===e?"schedules":"schedules_teacher"),(0,r.My)("period","asc"),(0,r.AB)(12))).then(e=>{i(e.docs.map(e=>({id:e.id,...e.data()})))}).catch(console.error).finally(()=>b(!1))},[e]);let h=new Date,m=0===h.getDay()?6:h.getDay()-1,u=h.getHours(),p=u>=8&&u<12?u-8:u>=13&&u<17?u-9:-1;return x?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("i",{className:"fas fa-circle-notch fa-spin text-4xl text-indigo-500"})}):(0,a.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-2xl shadow-sm border-t-4 border-indigo-500",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-800",children:[(0,a.jsx)("i",{className:"fas fa-table text-indigo-500 mr-2"})," 班級課表"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("class"),className:"px-3 py-1 rounded-md text-sm font-bold ".concat("class"===e?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-600"),children:"班級課表"}),(0,a.jsx)("button",{onClick:()=>t("teacher"),className:"px-3 py-1 rounded-md text-sm font-bold ".concat("teacher"===e?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-600"),children:"教師課表"})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-slate-50",children:[(0,a.jsx)("th",{className:"px-2 py-2 text-xs font-bold text-slate-500 border-r border-slate-200",children:"節"}),o.map(e=>(0,a.jsx)("th",{className:"px-2 py-2 text-xs font-bold text-slate-500 text-center",children:e},e))]})}),(0,a.jsx)("tbody",{children:s.map((e,t)=>{let s="午餐"===c[t]||"午休"===c[t];return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-2 py-2 text-sm font-bold border-r border-slate-200 ".concat(s?"bg-green-50 text-green-700":"text-slate-500"),children:c[t]}),n.map((l,r)=>{var d;let c=null!=(d=e[l])?d:"";return(0,a.jsx)("td",{className:"px-2 py-2 text-sm text-center border-r border-slate-100 ".concat(s||m!==r||p!==t?"":"bg-blue-100 font-bold text-blue-800 border-2 border-blue-500"),children:c},l)})]},e.id)})})]})})]})}},4585:(e,t,s)=>{"use strict";s.d(t,{db:()=>n,j:()=>c});var a=s(2078),l=s(2553),r=s(9390);let d=(0,a.Wp)({apiKey:"AIzaSyDD_LVP9WTmEJP1ug68ajrFqQufu65X_BA",authDomain:"cish-906-school.firebaseapp.com",projectId:"cish-906-school",storageBucket:"cish-906-school.firebasestorage.app",messagingSenderId:"795413031258",appId:"1:795413031258:web:13c9916b84c07cd4dbeb63"}),c=(0,l.xI)(d),n=(0,r.aU)(d)},5525:(e,t,s)=>{Promise.resolve().then(s.bind(s,4433))}},e=>{e.O(0,[399,563,320,441,255,358],()=>e(e.s=5525)),_N_E=e.O()}]);